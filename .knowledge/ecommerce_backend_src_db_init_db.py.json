{"is_source_file": true, "format": "Python", "description": "This is a Python source file initializing and seeding a database using SQLAlchemy ORM. The file defines functions to get or create categories, brands, and products, and a main seed() function to populate the database with sample data in an idempotent manner, including creating default admin user, categories, brands, and products.", "external_files": ["src/db/crud/user", "src.core.security", "src.db.models.catalog"], "external_methods": ["create_user", "get_user_by_email", "get_password_hash"], "published": [], "classes": [], "methods": [{"name": "Category _get_or_create_category(db: Session, name: str, description: str | None = None)", "description": "Returns an existing category by name or creates a new one.", "scope": "", "scopeKind": ""}, {"name": "Brand _get_or_create_brand(db: Session, name: str, description: str | None = None)", "description": "Returns an existing brand by name or creates a new one.", "scope": "", "scopeKind": ""}, {"name": "Product|None _get_product_by_name(db: Session, name: str)", "description": "Lookup product by name for idempotent seeding.", "scope": "", "scopeKind": ""}, {"name": "None seed(db: Session)", "description": "Populates the database with default data in an idempotent way.", "scope": "", "scopeKind": ""}], "calls": ["sqlalchemy.orm.Session.execute", "sqlalchemy.sql.select", "sqlalchemy.exc.IntegrityError", "src.db.crud.user.get_user_by_email", "src.db.crud.user.create_user", "src.core.security.get_password_hash", "src.db.models.catalog.Category", "src.db.models.catalog.Brand", "src.db.models.catalog.Product"], "search-terms": ["init_db.py", "database seeding", "get_or_create_category", "seed function", "SQLAlchemy ORM initialization", "database transaction", "populating sample data"], "state": 2, "file_id": 16, "knowledge_revision": 76, "git_revision": "5e684f4375285352929cd26a59454b596a60fe9b", "revision_history": [{"38": ""}, {"74": "31d9f52be24b7fd3d716d8b3944eff3ca681e182"}, {"75": "31d9f52be24b7fd3d716d8b3944eff3ca681e182"}, {"76": "5e684f4375285352929cd26a59454b596a60fe9b"}], "ctags": [{"_type": "tag", "name": "_get_or_create_brand", "path": "/home/kavia/workspace/code-generation/techgear-e-commerce-platform-215921-215931/ecommerce_backend/src/db/init_db.py", "pattern": "/^def _get_or_create_brand(db: Session, name: str, description: str | None = None) -> Brand:$/", "language": "Python", "typeref": "typename:Brand", "kind": "function", "signature": "(db: Session, name: str, description: str | None = None)"}, {"_type": "tag", "name": "_get_or_create_category", "path": "/home/kavia/workspace/code-generation/techgear-e-commerce-platform-215921-215931/ecommerce_backend/src/db/init_db.py", "pattern": "/^def _get_or_create_category(db: Session, name: str, description: str | None = None) -> Category:$/", "language": "Python", "typeref": "typename:Category", "kind": "function", "signature": "(db: Session, name: str, description: str | None = None)"}, {"_type": "tag", "name": "_get_product_by_name", "path": "/home/kavia/workspace/code-generation/techgear-e-commerce-platform-215921-215931/ecommerce_backend/src/db/init_db.py", "pattern": "/^def _get_product_by_name(db: Session, name: str) -> Product | None:$/", "language": "Python", "typeref": "typename:Product|None", "kind": "function", "signature": "(db: Session, name: str)"}, {"_type": "tag", "name": "seed", "path": "/home/kavia/workspace/code-generation/techgear-e-commerce-platform-215921-215931/ecommerce_backend/src/db/init_db.py", "pattern": "/^def seed(db: Session) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(db: Session)"}], "hash": "6cc5c46d3ddbc8b12ea2976c5a3cdc33", "format-version": 4, "code-base-name": "ecommerce_backend", "filename": "ecommerce_backend/src/db/init_db.py"}