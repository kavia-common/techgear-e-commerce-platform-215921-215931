{"is_source_file": true, "format": "Python", "description": "This file contains a database seeding script for an e-commerce platform, utilizing SQLAlchemy ORM to populate initial data such as categories, brands, products, and a default admin user. It defines helper functions for get-or-create logic and a main seed function that ensures idempotent population within a transaction.", "external_files": ["src/db/crud/catalog", "src/db/crud/user", "src/core/security", "src/db/models/catalog"], "external_methods": ["create_brand", "create_category", "create_product", "create_user", "get_user_by_email", "get_password_hash"], "published": [], "classes": [], "methods": [{"name": "Category _get_or_create_category(db: Session, name: str, description: str | None = None)", "description": "Retrieves a Category by name or creates it if it doesn't exist.", "scope": "", "scopeKind": ""}, {"name": "Brand _get_or_create_brand(db: Session, name: str, description: str | None = None)", "description": "Retrieves a Brand by name or creates it if it doesn't exist.", "scope": "", "scopeKind": ""}, {"name": "Product|None _get_product_by_name(db: Session, name: str)", "description": "Fetches a Product by name for idempotent seeding.", "scope": "", "scopeKind": ""}, {"name": "None seed(db: Session)", "description": "Main function to populate the database with default data atomically, handling existing entries gracefully.", "scope": "", "scopeKind": ""}], "calls": ["select(Category)", "select(Brand)", "select(Product)", "get_user_by_email", "create_user", "get_password_hash", "db.execute", "db.begin", "db.flush", "db.add", "db.rollback"], "search-terms": ["seed", "get_or_create_category", "get_or_create_brand", "get_product_by_name", "populate database", "idempotent seeding"], "state": 2, "file_id": 16, "knowledge_revision": 75, "git_revision": "31d9f52be24b7fd3d716d8b3944eff3ca681e182", "revision_history": [{"38": ""}, {"74": "31d9f52be24b7fd3d716d8b3944eff3ca681e182"}, {"75": "31d9f52be24b7fd3d716d8b3944eff3ca681e182"}], "ctags": [{"_type": "tag", "name": "_get_or_create_brand", "path": "/home/kavia/workspace/code-generation/techgear-e-commerce-platform-215921-215931/ecommerce_backend/src/db/init_db.py", "pattern": "/^def _get_or_create_brand(db: Session, name: str, description: str | None = None) -> Brand:$/", "language": "Python", "typeref": "typename:Brand", "kind": "function", "signature": "(db: Session, name: str, description: str | None = None)"}, {"_type": "tag", "name": "_get_or_create_category", "path": "/home/kavia/workspace/code-generation/techgear-e-commerce-platform-215921-215931/ecommerce_backend/src/db/init_db.py", "pattern": "/^def _get_or_create_category(db: Session, name: str, description: str | None = None) -> Category:$/", "language": "Python", "typeref": "typename:Category", "kind": "function", "signature": "(db: Session, name: str, description: str | None = None)"}, {"_type": "tag", "name": "_get_product_by_name", "path": "/home/kavia/workspace/code-generation/techgear-e-commerce-platform-215921-215931/ecommerce_backend/src/db/init_db.py", "pattern": "/^def _get_product_by_name(db: Session, name: str) -> Product | None:$/", "language": "Python", "typeref": "typename:Product|None", "kind": "function", "signature": "(db: Session, name: str)"}, {"_type": "tag", "name": "seed", "path": "/home/kavia/workspace/code-generation/techgear-e-commerce-platform-215921-215931/ecommerce_backend/src/db/init_db.py", "pattern": "/^def seed(db: Session) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(db: Session)"}], "hash": "422236c68c9b7a0e5f5aff2ae52c9f8b", "format-version": 4, "code-base-name": "ecommerce_backend", "filename": "ecommerce_backend/src/db/init_db.py"}